{% extends 'layout-experiments.html.twig' %}
{% block head %}
<style>
    html, body{
    height: 100%;
    }
    body {
      font-family: "Helvetica", sans;
      color: #666;
        background: black;
      overflow: hidden;
      text-align: center;
      height: 100%;
    }
    #logo {
      display: inline-block;
      position: absolute;
      background-image: url("http://dev.dethbird.com/img/experiments/a-logo.png");
      top: 50%;
      left: 50%;
      width: 442px;
      height: 300px;
      margin-left: -221px;
      margin-top: -150px;
      z-index: 1001;
    }
    .dot {
      background-color: #444;
      position: absolute;
      z-index: 1000;
      top: 50%;
    }
</style>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.18.0/TweenMax.min.js"></script>
<script type="text/javascript" src="/js/lib/vendor/yaml.js"></script>
{% endblock %}
{% block body %}
    {{ parent() }}
    <object type="image/svg+xml" data="/svg/experiments/svg001.svg"></object>


<script type="text/javascript">

    /** Takes a data definition of a list of images and makes a touch enabled gallery */

      var configs = {{experimentConfigs|json_encode|raw}};

      // $.each(configs.images, function(i,image){
      //   console.log(image.url);
      //   var img = $('<img />');
      //   img = $(img);
      //   img.attr('src', image.url);
      //   img.load(function(){
      //     console.log("loaded");
      //   });
      //   $('body').append(img);
      // });

    // var LoaderView = Backbone.View.extend({
    //     interval: null,
    //     timeline: null,
    //     maxPixels: 300,
    //     initialize: function() {

    //         this.timeline = new TimelineMax(
    //           {
    //             repeat: -1,
    //             onRepeat: function() {
    //               $('.dot').remove();
    //             }
    //           }
    //         );

    //         this.timeline.add( TweenMax.to($('#logo'), .25, {
    //           scale: [1.2, 1.2],
    //           ease: Power1.easeIn
    //         }))
    //         .add( TweenMax.to($('#logo'), 1, {
    //           scale: [1, 1],
    //           ease: Elastic.easeOut.config(1, 0.3)
    //         }))
    //         .call(this.render, null, this, 0);;
    //     },
    //     render: function() {
    //         var windowWidth = $(window).width();
    //         var windowHeight = $(window).height();
    //         var pixelSize = windowWidth / this.maxPixels;
    //         var counter = 0;
    //         var increase = Math.PI * 10 / this.maxPixels;
    //         var pos = Math.random()*4;
    //         for (i = 0; i < this.maxPixels; i++) {
    //           var dot = $("<div class='dot'/>").appendTo($('body'))[0];
              
    //           TweenLite.set(dot, {
    //             x: i*pixelSize,
    //             y: Math.sin( counter + pos)/6 * windowHeight,
    //             width: pixelSize,
    //             height: pixelSize
    //           });
              
    //           this.timeline.to(dot, 1, {
    //             opacity: 0,
    //             y: "+=" + Math.random() * 400 + 400,
    //             ease: Power1.easeIn
    //           }, 0);
    //           counter += increase;
    //         }
    //     }
    // });
    // var loader = new LoaderView({
    //     el: "#logo"
    // });

</script>
{% endblock %}
